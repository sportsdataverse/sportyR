<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Plotting Tracking Data • sportyR</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Plotting Tracking Data">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">sportyR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.2.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../index.html" title="sportyR • Drawing regulation playing surfaces"><span class="fa fa-home"></span></a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html"><span class="fa fas fa-code"></span> Funcs</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown--articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true"><span class="fa fas fa-book-reader"></span>  Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown--articles">
<li><a class="dropdown-item" href="../articles/index.html">Vignettes</a></li>
    <li><a class="dropdown-item" href="../articles/sportyR.html">Getting Started</a></li>
    <li><a class="dropdown-item" href="../articles/customize-plot.html">Customizing Plots</a></li>
    <li><a class="dropdown-item" href="../articles/plotting-tracking-data.html">Plotting Tracking Data</a></li>
    <li><a class="dropdown-item" href="../articles/animating-tracking-data.html">Animating Tracking Data</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html"><span class="fa fas fa-newspaper"></span>  Changelog</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown--sdv" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true"><span class="fa fas fa-project-diagram"></span>  SDV</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown--sdv">
<li><a class="external-link dropdown-item" href="https://sportsdataverse.org/">SportsDataverse</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>R Packages</h6></li>
    <li><a class="external-link dropdown-item" href="https://r.sportsdataverse.org/">sportsdataverse-R</a></li>
    <li><a class="external-link dropdown-item" href="https://cfbfastR.sportsdataverse.org/">cfbfastR</a></li>
    <li><a class="external-link dropdown-item" href="https://hoopR.sportsdataverse.org/">hoopR</a></li>
    <li><a class="external-link dropdown-item" href="https://wehoop.sportsdataverse.org/">wehoop</a></li>
    <li><a class="external-link dropdown-item" href="https://torvik.dev/">toRvik</a></li>
    <li><a class="external-link dropdown-item" href="https://fastRhockey.sportsdataverse.org/">fastRhockey</a></li>
    <li><a class="external-link dropdown-item" href="https://BillPetti.github.io/baseballr/">baseballr</a></li>
    <li><a class="external-link dropdown-item" href="https://jaseziv.github.io/worldfootballR/">worldfootballR</a></li>
    <li><a class="external-link dropdown-item" href="https://jaseziv.github.io/chessR/">chessR</a></li>
    <li><a class="external-link dropdown-item" href="https://rossdrucker.github.io/sportyR/">sportyR</a></li>
    <li><a class="external-link dropdown-item" href="https://kazink36.github.io/cfbplotR/">cfbplotR</a></li>
    <li><a class="external-link dropdown-item" href="https://kazink36.github.io/cfb4th/">cfb4th</a></li>
    <li><a class="external-link dropdown-item" href="https://recruitr.sportsdataverse.org/">recruitR</a></li>
    <li><a class="external-link dropdown-item" href="https://jacklich10.github.io/gamezoneR/">gamezoneR</a></li>
    <li><a class="external-link dropdown-item" href="https://puntalytics.github.io/puntr/">puntr</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Python Packages</h6></li>
    <li><a class="external-link dropdown-item" href="https://py.sportsdataverse.org/">sportsdataverse-py</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Node.js Packages</h6></li>
    <li><a class="external-link dropdown-item" href="https://js.sportsdataverse.org/">sportsdataverse.js</a></li>
    <li><a class="external-link dropdown-item" href="https://github.com/nntrn/nfl-nerd/">nfl-nerd</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><a class="external-link nav-link" href="http://twitter.com/rossdrucker9"><span class="fa fab fa-twitter fa-lg"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/sportsdataverse/sportyR"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Plotting Tracking Data</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/sportsdataverse/sportyR/blob/main/vignettes/plotting-tracking-data.Rmd" class="external-link"><code>vignettes/plotting-tracking-data.Rmd</code></a></small>
      <div class="d-none name"><code>plotting-tracking-data.Rmd</code></div>
    </div>

    
    
<p>In order to run the following vignettes, you’ll need the
<code>sportyR</code> and <code>ggplot2</code> libraries loaded into your
workspace.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://sportyr.sportsdataverse.org/" class="external-link">sportyR</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p><code>sportyR</code> seeks to make plotting geospatial tracking data
as straight-forward as possible, allowing you to focus more on the
analysis than on the visuals. I’ll demonstrate a few examples here on
how to use the package to display “static” data, or data that shows a
snapshot in time</p>
</div>
<div class="section level2">
<h2 id="the-data">The Data<a class="anchor" aria-label="anchor" href="#the-data"></a>
</h2>
<p>For this example, I’ll be using the data provided for the <a href="https://stathletes.com/big-data-cup" class="external-link">Big Data Cup</a>, which is
publicly available. Specifically, the data I’ll use to demonstrate how
to plot comes from the data provided for the <a href="https://github.com/bigdatacup/Big-Data-Cup-2021" class="external-link">Big Data Cup -
2021</a>.</p>
<p>Start by reading in the data from the CSV file provided:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Read data from the Big Data Cup</span></span>
<span><span class="va">bdc_data</span> <span class="op">&lt;-</span> <span class="fu">data.table</span><span class="fu">::</span><span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/fread.html" class="external-link">fread</a></span><span class="op">(</span></span>
<span>  <span class="fu">glue</span><span class="fu">::</span><span class="fu"><a href="https://glue.tidyverse.org/reference/glue.html" class="external-link">glue</a></span><span class="op">(</span></span>
<span>    <span class="st">"https://raw.githubusercontent.com/bigdatacup/Big-Data-Cup-2021"</span>,</span>
<span>    <span class="st">"/main/hackathon_nwhl.csv"</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Convert to data frame</span></span>
<span><span class="va">bdc_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="va">bdc_data</span><span class="op">)</span></span></code></pre></div>
<p>Let’s explore the dataset a bit to see what (if any) changes would be
helpful</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">bdc_data</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] "game_date"         "Home Team"         "Away Team"        </span></span>
<span><span class="co">#&gt;  [4] "Period"            "Clock"             "Home Team Skaters"</span></span>
<span><span class="co">#&gt;  [7] "Away Team Skaters" "Home Team Goals"   "Away Team Goals"  </span></span>
<span><span class="co">#&gt; [10] "Team"              "Player"            "Event"            </span></span>
<span><span class="co">#&gt; [13] "X Coordinate"      "Y Coordinate"      "Detail 1"         </span></span>
<span><span class="co">#&gt; [16] "Detail 2"          "Detail 3"          "Detail 4"         </span></span>
<span><span class="co">#&gt; [19] "Player 2"          "X Coordinate 2"    "Y Coordinate 2"</span></span></code></pre></div>
<p>It’d be helpful to change the names of the columns to be easier to
work with, so I’ll change <code>X Coordinate</code> and
<code>Y Coordinate</code> to be <code>x</code> and <code>y</code>, and
<code>X Coordinate 2</code> and <code>Y Coordinate 2</code> to be
<code>x2</code> and <code>y2</code>.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Change names of X Coordinate and Y Coordinate to x and y respectively</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">bdc_data</span><span class="op">)</span><span class="op">[</span><span class="fl">13</span><span class="op">:</span><span class="fl">14</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"x"</span>, <span class="st">"y"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">bdc_data</span><span class="op">)</span><span class="op">[</span><span class="fl">20</span><span class="op">:</span><span class="fl">21</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"x2"</span>, <span class="st">"y2"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Preview what the data looks like</span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">bdc_data</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<table style="width:100%;" class="table">
<colgroup>
<col width="4%">
<col width="8%">
<col width="5%">
<col width="2%">
<col width="2%">
<col width="7%">
<col width="7%">
<col width="6%">
<col width="6%">
<col width="5%">
<col width="6%">
<col width="5%">
<col width="1%">
<col width="1%">
<col width="3%">
<col width="3%">
<col width="3%">
<col width="3%">
<col width="8%">
<col width="1%">
<col width="1%">
</colgroup>
<thead><tr class="header">
<th align="left">game_date</th>
<th align="left">Home Team</th>
<th align="left">Away Team</th>
<th align="right">Period</th>
<th align="left">Clock</th>
<th align="right">Home Team Skaters</th>
<th align="right">Away Team Skaters</th>
<th align="right">Home Team Goals</th>
<th align="right">Away Team Goals</th>
<th align="left">Team</th>
<th align="left">Player</th>
<th align="left">Event</th>
<th align="right">x</th>
<th align="right">y</th>
<th align="left">Detail 1</th>
<th align="left">Detail 2</th>
<th align="left">Detail 3</th>
<th align="left">Detail 4</th>
<th align="left">Player 2</th>
<th align="right">x2</th>
<th align="right">y2</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">2021-01-23</td>
<td align="left">Minnesota Whitecaps</td>
<td align="left">Boston Pride</td>
<td align="right">1</td>
<td align="left">20:00</td>
<td align="right">5</td>
<td align="right">5</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="left">Boston Pride</td>
<td align="left">Jillian Dempsey</td>
<td align="left">Faceoff Win</td>
<td align="right">100</td>
<td align="right">43</td>
<td align="left">Backhand</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left">Stephanie Anderson</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">2021-01-23</td>
<td align="left">Minnesota Whitecaps</td>
<td align="left">Boston Pride</td>
<td align="right">1</td>
<td align="left">19:58</td>
<td align="right">5</td>
<td align="right">5</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="left">Boston Pride</td>
<td align="left">McKenna Brand</td>
<td align="left">Puck Recovery</td>
<td align="right">107</td>
<td align="right">40</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">2021-01-23</td>
<td align="left">Minnesota Whitecaps</td>
<td align="left">Boston Pride</td>
<td align="right">1</td>
<td align="left">19:57</td>
<td align="right">5</td>
<td align="right">5</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="left">Boston Pride</td>
<td align="left">McKenna Brand</td>
<td align="left">Zone Entry</td>
<td align="right">125</td>
<td align="right">28</td>
<td align="left">Carried</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left">Maddie Rowe</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">2021-01-23</td>
<td align="left">Minnesota Whitecaps</td>
<td align="left">Boston Pride</td>
<td align="right">1</td>
<td align="left">19:55</td>
<td align="right">5</td>
<td align="right">5</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="left">Boston Pride</td>
<td align="left">McKenna Brand</td>
<td align="left">Shot</td>
<td align="right">131</td>
<td align="right">28</td>
<td align="left">Snapshot</td>
<td align="left">On Net</td>
<td align="left">t</td>
<td align="left">f</td>
<td align="left"></td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">2021-01-23</td>
<td align="left">Minnesota Whitecaps</td>
<td align="left">Boston Pride</td>
<td align="right">1</td>
<td align="left">19:53</td>
<td align="right">5</td>
<td align="right">5</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="left">Boston Pride</td>
<td align="left">Tereza Vanisova</td>
<td align="left">Faceoff Win</td>
<td align="right">169</td>
<td align="right">21</td>
<td align="left">Backhand</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left">Stephanie Anderson</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">2021-01-23</td>
<td align="left">Minnesota Whitecaps</td>
<td align="left">Boston Pride</td>
<td align="right">1</td>
<td align="left">19:52</td>
<td align="right">5</td>
<td align="right">5</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="left">Boston Pride</td>
<td align="left">Samantha Davis</td>
<td align="left">Puck Recovery</td>
<td align="right">159</td>
<td align="right">26</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
</tbody>
</table>
<p>I’ll use the first game in the data here, which is between the
Minnesota Whitecaps and the Boston Pride. To keep things easy I’ll focus
first on single-point data: shots.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Subset to only be shots from the game on 2021-01-23 between the Minnesota</span></span>
<span><span class="co"># White Caps and Boston Pride</span></span>
<span><span class="va">bdc_shots</span> <span class="op">&lt;-</span> <span class="va">bdc_data</span><span class="op">[</span><span class="op">(</span><span class="va">bdc_data</span><span class="op">$</span><span class="va">Event</span> <span class="op">==</span> <span class="st">"Shot"</span><span class="op">)</span> <span class="op">&amp;</span></span>
<span>                        <span class="op">(</span><span class="va">bdc_data</span><span class="op">$</span><span class="va">`Home Team`</span> <span class="op">==</span> <span class="st">"Minnesota Whitecaps"</span><span class="op">)</span> <span class="op">&amp;</span></span>
<span>                        <span class="op">(</span><span class="va">bdc_data</span><span class="op">$</span><span class="va">game_date</span> <span class="op">==</span> <span class="st">"2021-01-23"</span><span class="op">)</span>, <span class="op">]</span></span>
<span></span>
<span><span class="co"># Separate shots by team</span></span>
<span><span class="va">whitecaps_shots</span> <span class="op">&lt;-</span> <span class="va">bdc_shots</span><span class="op">[</span><span class="va">bdc_shots</span><span class="op">$</span><span class="va">Team</span> <span class="op">==</span> <span class="st">"Minnesota Whitecaps"</span>, <span class="op">]</span></span>
<span><span class="va">pride_shots</span> <span class="op">&lt;-</span> <span class="va">bdc_shots</span><span class="op">[</span><span class="va">bdc_shots</span><span class="op">$</span><span class="va">Team</span> <span class="op">==</span> <span class="st">"Boston Pride"</span>, <span class="op">]</span></span></code></pre></div>
<p>To keep all shots for a team on the same side of the ice, we need to
adjust the coordinates of the shot. We’ve got to keep the shooter’s
perspective towards the net constant as well, so the following is an
appropriate transformation.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Correct the shot location</span></span>
<span><span class="va">whitecaps_shots</span><span class="op">[</span><span class="st">"x"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">200</span> <span class="op">-</span> <span class="va">whitecaps_shots</span><span class="op">[</span><span class="st">"x"</span><span class="op">]</span></span>
<span><span class="va">whitecaps_shots</span><span class="op">[</span><span class="st">"y"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">85</span> <span class="op">-</span> <span class="va">whitecaps_shots</span><span class="op">[</span><span class="st">"y"</span><span class="op">]</span></span></code></pre></div>
<p>This positions the data correctly, so let’s move on to plotting</p>
</div>
<div class="section level2">
<h2 id="drawing-the-plot">Drawing the Plot<a class="anchor" aria-label="anchor" href="#drawing-the-plot"></a>
</h2>
<p>Since this data pertains to the Premier Hockey Federation (PHF),
we’ll start the plotting by drawing a PHF-sized rink. We’ll use
<code>x_trans</code> and <code>y_trans</code> to align the data and plot
coordinates. I encourage you to experiment with the data to see how this
works in practice</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Draw the rink</span></span>
<span><span class="va">phf_rink</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/geom_hockey.html">geom_hockey</a></span><span class="op">(</span><span class="st">"phf"</span>, x_trans <span class="op">=</span> <span class="fl">100</span>, y_trans <span class="op">=</span> <span class="fl">42.5</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Display the rink here</span></span>
<span><span class="va">phf_rink</span></span></code></pre></div>
<p><img src="plotting-tracking-data-draw-rink-1.png" width="100%"></p>
<p>Now all that’s left to do is to add the data points to the plot!
Because of how <code>ggplot2</code> is designed, this is very
straightforward.</p>
</div>
<div class="section level2">
<h2 id="adding-the-data">Adding the Data<a class="anchor" aria-label="anchor" href="#adding-the-data"></a>
</h2>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Add the shots to the plot</span></span>
<span><span class="va">phf_rink</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">whitecaps_shots</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span>, color <span class="op">=</span> <span class="st">"#2251b8"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">pride_shots</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span>, color <span class="op">=</span> <span class="st">"#fec52e"</span><span class="op">)</span></span></code></pre></div>
<p><img src="plotting-tracking-data-add-bdc-shot-data-to-plot-1.png" width="100%"></p>
</div>
<div class="section level2">
<h2 id="two-coordinate-data">Two-Coordinate Data<a class="anchor" aria-label="anchor" href="#two-coordinate-data"></a>
</h2>
<p>Pretend instead that we want to look at where a team’s passes were
executed during the game. This is also very easy to do. Let’s take the
same dataset we had before, <code>bdc_data</code>, and this time subset
it to look at Boston’s passes in the game. We’ve already got our rink
plot from before, so let’s just subset to the passing data, and add it
to the plot:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Subset the data to be Boston's passes</span></span>
<span><span class="va">boston_passes</span> <span class="op">&lt;-</span> <span class="va">bdc_data</span><span class="op">[</span><span class="op">(</span><span class="va">bdc_data</span><span class="op">$</span><span class="va">Event</span> <span class="op">==</span> <span class="st">"Play"</span><span class="op">)</span> <span class="op">&amp;</span></span>
<span>                            <span class="op">(</span><span class="va">bdc_data</span><span class="op">$</span><span class="va">Team</span> <span class="op">==</span> <span class="st">"Boston Pride"</span><span class="op">)</span> <span class="op">&amp;</span></span>
<span>                            <span class="op">(</span><span class="va">bdc_data</span><span class="op">$</span><span class="va">game_date</span> <span class="op">==</span> <span class="st">"2021-01-23"</span><span class="op">)</span>, <span class="op">]</span></span>
<span></span>
<span><span class="co"># Plot passes with geom_segment()</span></span>
<span><span class="va">phf_rink</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_segment.html" class="external-link">geom_segment</a></span><span class="op">(</span></span>
<span>    data <span class="op">=</span> <span class="va">boston_passes</span>,</span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span></span>
<span>      x <span class="op">=</span> <span class="va">x</span>,</span>
<span>      y <span class="op">=</span> <span class="va">y</span>,</span>
<span>      xend <span class="op">=</span> <span class="va">x2</span>,</span>
<span>      yend <span class="op">=</span> <span class="va">y2</span></span>
<span>    <span class="op">)</span>,</span>
<span>    lineend <span class="op">=</span> <span class="st">"round"</span>,</span>
<span>    linejoin <span class="op">=</span> <span class="st">"round"</span>,</span>
<span>    color <span class="op">=</span> <span class="st">"#ffcb05"</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<p><img src="plotting-tracking-data-passing-data-example-1.png" width="100%"></p>
<p>And there you have it! This works for any geospatial data, for any
sport (supported by <code>sportyR</code>), and for any league (supported
by <code>sportyR</code>). Give it a try, and please reach out if you
have ideas for improvements!</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://twitter.com/rossdrucker9" class="external-link">Ross Drucker</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
